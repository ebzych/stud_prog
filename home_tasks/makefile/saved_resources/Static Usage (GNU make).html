<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ --><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- This file documents the GNU make utility, which determines
automatically which pieces of a large program need to be recompiled,
and issues the commands to recompile them.

This is Edition 0.77, last updated 26 February 2023,
of The GNU Make Manual, for GNU make version 4.4.1.

Copyright (C) 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995,
1996, 1997, 1998, 1999, 2000, 2002, 2003, 2004, 2005, 2006, 2007,
2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019,
2020, 2021, 2022, 2023 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<title>Static Usage (GNU make)</title>

<meta name="description" content="Static Usage (GNU make)">
<meta name="keywords" content="Static Usage (GNU make)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="https://www.gnu.org/software/make/manual/html_node/index.html" rel="start" title="Top">
<link href="https://www.gnu.org/software/make/manual/html_node/Concept-Index.html" rel="index" title="Concept Index">
<link href="https://www.gnu.org/software/make/manual/html_node/index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html" rel="up" title="Static Pattern">
<link href="https://www.gnu.org/software/make/manual/html_node/Static-versus-Implicit.html" rel="next" title="Static versus Implicit">
<link href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html" rel="prev" title="Static Pattern">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="Static%20Usage%20(GNU%20make)_files/manual.css">


<meta id="Reverso_extension___elForCheckedInstallExtension" name="Reverso extension" content="2.2.205"></head>

<body lang="en">
<div class="subsection" id="Static-Usage">
<div class="header">
<p>
Next: <a href="https://www.gnu.org/software/make/manual/html_node/Static-versus-Implicit.html" accesskey="n" rel="next">Static Pattern Rules versus Implicit Rules</a>, Previous: <a href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html" accesskey="p" rel="prev">Static Pattern Rules</a>, Up: <a href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html" accesskey="u" rel="up">Static Pattern Rules</a> &nbsp; [<a href="https://www.gnu.org/software/make/manual/html_node/index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://www.gnu.org/software/make/manual/html_node/Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Syntax-of-Static-Pattern-Rules"></span><h4 class="subsection">4.12.1 Syntax of Static Pattern Rules</h4>
<span id="index-static-pattern-rule_002c-syntax-of"></span>
<span id="index-pattern-rules_002c-static_002c-syntax-of"></span>

<p>Here is the syntax of a static pattern rule:
</p>
<div class="example">
<pre class="example"><var>targets</var> …: <var>target-pattern</var>: <var>prereq-patterns</var> …
        <var>recipe</var>
        …
</pre></div>

<p>The <var>targets</var> list specifies the targets that the rule applies to.
The targets can contain wildcard characters, just like the targets of
ordinary rules (see <a href="https://www.gnu.org/software/make/manual/html_node/Wildcards.html">Using Wildcard Characters in File
Names</a>).
</p>
<span id="index-target-pattern_002c-static-_0028not-implicit_0029"></span>
<span id="index-stem"></span>
<p>The <var>target-pattern</var> and <var>prereq-patterns</var> say how to compute the
prerequisites of each target.  Each target is matched against the
<var>target-pattern</var> to extract a part of the target name, called the
<em>stem</em>.  This stem is substituted into each of the <var>prereq-patterns</var>
to make the prerequisite names (one from each <var>prereq-pattern</var>).
</p>
<p>Each pattern normally contains the character ‘<samp>%</samp>’ just once.  When the
<var>target-pattern</var> matches a target, the ‘<samp>%</samp>’ can match any part of
the target name; this part is called the <em>stem</em>.  The rest of the
pattern must match exactly.  For example, the target <samp>foo.o</samp> matches
the pattern ‘<samp>%.o</samp>’, with ‘<samp>foo</samp>’ as the stem.  The targets
<samp>foo.c</samp> and <samp>foo.out</samp> do not match that pattern.
</p>
<span id="index-prerequisite-pattern_002c-static-_0028not-implicit_0029"></span>
<p>The prerequisite names for each target are made by substituting the stem
for the ‘<samp>%</samp>’ in each prerequisite pattern.  For example, if one
prerequisite pattern is <samp>%.c</samp>, then substitution of the stem
‘<samp>foo</samp>’ gives the prerequisite name <samp>foo.c</samp>.  It is legitimate
to write a prerequisite pattern that does not contain ‘<samp>%</samp>’; then this
prerequisite is the same for all targets.
</p>
<span id="index-_0025_002c-quoting-in-static-pattern"></span>
<span id="index-_0025_002c-quoting-with-_005c-_0028backslash_0029-1"></span>
<span id="index-_005c-_0028backslash_0029_002c-to-quote-_0025-1"></span>
<span id="index-backslash-_0028_005c_0029_002c-to-quote-_0025-1"></span>
<span id="index-quoting-_0025_002c-in-static-pattern"></span>
<p>‘<samp>%</samp>’ characters in pattern rules can be quoted with preceding
backslashes (‘<samp>\</samp>’).  Backslashes that would otherwise quote ‘<samp>%</samp>’
characters can be quoted with more backslashes.  Backslashes that quote
‘<samp>%</samp>’ characters or other backslashes are removed from the pattern
before it is compared to file names or has a stem substituted into it.
Backslashes that are not in danger of quoting ‘<samp>%</samp>’ characters go
unmolested.  For example, the pattern <samp>the\%weird\\%pattern\\</samp> has
‘<samp>the%weird\</samp>’ preceding the operative ‘<samp>%</samp>’ character, and
‘<samp>pattern\\</samp>’ following it.  The final two backslashes are left alone
because they cannot affect any ‘<samp>%</samp>’ character.
</p>
<p>Here is an example, which compiles each of <samp>foo.o</samp> and <samp>bar.o</samp>
from the corresponding <samp>.c</samp> file:
</p>
<div class="example">
<pre class="example">objects = foo.o bar.o

all: $(objects)

$(objects): %.o: %.c
        $(CC) -c $(CFLAGS) $&lt; -o $@
</pre></div>

<p>Here ‘<samp>$&lt;</samp>’ is the automatic variable that holds the name of the
prerequisite and ‘<samp>$@</samp>’ is the automatic variable that holds the name
of the target; see <a href="https://www.gnu.org/software/make/manual/html_node/Automatic-Variables.html">Automatic Variables</a>.
</p>
<p>Each target specified must match the target pattern; a warning is issued
for each target that does not.  If you have a list of files, only some of
which will match the pattern, you can use the <code>filter</code> function to
remove non-matching file names (see <a href="https://www.gnu.org/software/make/manual/html_node/Text-Functions.html">Functions for String Substitution and Analysis</a>):
</p>
<div class="example">
<pre class="example">files = foo.elc bar.o lose.o

$(filter %.o,$(files)): %.o: %.c
        $(CC) -c $(CFLAGS) $&lt; -o $@
$(filter %.elc,$(files)): %.elc: %.el
        emacs -f batch-byte-compile $&lt;
</pre></div>

<p>In this example the result of ‘<samp>$(filter %.o,$(files))</samp>’ is
<samp>bar.o lose.o</samp>, and the first static pattern rule causes each of
these object files to be updated by compiling the corresponding C source
file.  The result of ‘<samp>$(filter&nbsp;%.elc,$(files))</samp>’<!-- /@w --> is
<samp>foo.elc</samp>, so that file is made from <samp>foo.el</samp>.
</p>
<p>Another example shows how to use <code>$*</code> in static pattern rules:
<span id="index-_0024_002a_002c-and-static-pattern"></span>
</p>
<div class="example">
<pre class="example">bigoutput littleoutput : %output : text.g
        generate text.g -$* &gt; $@
</pre></div>

<p>When the <code>generate</code> command is run, <code>$*</code> will expand to the
stem, either ‘<samp>big</samp>’ or ‘<samp>little</samp>’.
</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="https://www.gnu.org/software/make/manual/html_node/Static-versus-Implicit.html">Static Pattern Rules versus Implicit Rules</a>, Previous: <a href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html">Static Pattern Rules</a>, Up: <a href="https://www.gnu.org/software/make/manual/html_node/Static-Pattern.html">Static Pattern Rules</a> &nbsp; [<a href="https://www.gnu.org/software/make/manual/html_node/index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="https://www.gnu.org/software/make/manual/html_node/Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>





</body></html>